<template>
  <style>
    :host {
      display: inline-flex;
      align-items: center;
      --quad: var(--birdie-quad, cubic-bezier(0.455, 0.03, 0.515, 0.955));
      --dur: var(--birdie-dur, 0.2s);
      --left-wing-animation: {
        animation: wing var(--dur) infinite var(--quad);
        transform-origin: 100% 50%;
      };
      --right-wing-animation: {
        animation: wing var(--dur) 0.1s infinite var(--quad);
        transform-origin: 0 50%;
      };
      --eyes-animation: {
        animation: blink 2s ease infinite;
        transform-origin: 50% 50%;
      };
    }
    
    .bird {
      height: 60px;
      margin-left: -19px;
      margin-right: -2px;
      z-index: 1;
    }
    
    .lwing,
    .rwing {
      width: 30px;
      height: 30px;
    }
    .rwing {
      position: relative;
      top: 8px;
      left: -3px;
    }
    
    :host([animated]) .lwing {
      @apply --left-wing-animation;
    }
    
    :host([animated]) .rwing {
      @apply --right-wing-animation;
    }
    
    :host([animated]) #eye, 
    :host([animated]) #eye-2 {
      @apply --eyes-animation;
    }    
    
    @keyframes wing {
      50% {
        transform: rotate(10deg) translateZ(0);
      }
    }

    @keyframes blink {
      45%, 55% {
        transform: scaleY(1);
      }
      50% {
        transform: scaleY(0);
      }
    }

  </style>
  <svg class="lwing" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22.9 26.1">
    <title>birdwing</title>
      <g id="lwing">
        <g id="wingchild">
          <path d="M33.3,24.4c-5,1.9-9.6-2.8-11.2-7.1-.7-1.9-.8-4.4-1.9-6s-4.2-1-4.1,1.5,1.5,4.8,2.9,6.6c-1.4-1.9-4.2-3.4-6.5-2.6s-2,4.3-.2,6.1,3.6,2.3,5.7,2.9c-2.2-.4-4.8-.9-6.4,1.1s-.6,4.4,1.1,6.1A8.4,8.4,0,0,0,16,35a12.5,12.5,0,0,0,8-.3,16.7,16.7,0,0,0,6.1-3.3c1.4-1.4,3.6-4.9,3.2-7" transform="translate(-10.4 -10)" fill="#fbb040"/>
        </g>
      </g>
  </svg>

  <!--birdbody-->
  <svg class="bird" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.8 41.5">
    <title>birdbody</title>
    <g id="bird">
      <path d="M16.9,43.3S29.6,45,26.7,21.1,56.1,6.9,55.2,24,35.6,56.5,16.9,43.3Z" transform="translate(-15.5 -6.8)" fill="#f2f2f2"/>
      <path d="M18.3,43.3c3.2-.4,10.7-3.4,8.4-22.3S43.9,4.3,51.9,14.3l-.8-.4c-2.3-.9-2.8,1.5-2.8,3.2a5.6,5.6,0,0,0-2.1-2.6,7.8,7.8,0,0,0-6.7-1.4,5.4,5.4,0,0,0-3.2,2.8c-1.1,2.4-.8,5.5-.5,8.1s1.2,7.9.9,11.9a15.9,15.9,0,0,1-2.4,7.9,8.3,8.3,0,0,1-4.2,2.8c-2.8.8-5.8-.3-8.4-1.5A24,24,0,0,1,18.3,43.3Z" transform="translate(-15.5 -6.8)" fill="#fbb040"/>
      <g id="tail">
        <path d="M18.9,43.8a7.6,7.6,0,0,1,.9-2.3,11.3,11.3,0,0,0,1-2.5,2.5,2.5,0,0,0-.3-2.2c-.5-.6-1.1.1-1.3.6a6.8,6.8,0,0,0-.4,2.3c0,.8.1,1.6.1,2.4a6.7,6.7,0,0,0-.6-2.5c-.1-.3-.4-1.1-.9-1.1s-.3,1.8-.2,2.1l.8,2.5A12.3,12.3,0,0,1,17,42c-.3-.3-.5-.7-1-.8a.4.4,0,0,0-.5.5c0,.7.6,1.2,1.1,1.5a13.2,13.2,0,0,0,2,1.2" transform="translate(-15.5 -6.8)" fill="#fbb040"/>
      </g>
      <polygon points="35 17.7 29.7 18.1 32.7 22.9 35 17.7" fill="#f06724"/>
      <g id="eyes">
        <ellipse id="eye" cx="34.7" cy="13.6" rx="0.9" ry="2.8" fill="#808184"/>
        <ellipse id="eye-2" data-name="eye" cx="30.4" cy="13.6" rx="0.9" ry="2.8" fill="#808184"/>
      </g>
    </g>
  </svg>
    <!--right wing-->
  <svg class="rwing" xmlns="http://www.w3.org/2000/svg" width="23.8" height="24.8" viewBox="0 0 23.8 24.8">
    <g id="rwing">
      <path d="M46.1,22c4.3,3.1,10-.1,12.7-3.9,1.2-1.6,2-4,3.4-5.3s4.3.1,3.6,2.6-2.7,4.2-4.6,5.6c1.8-1.5,4.9-2.1,7-.8s.8,4.7-1.4,5.9-4,1.3-6.2,1.3c2.2.2,4.8.4,5.9,2.8s-.6,4.4-2.7,5.6A8.4,8.4,0,0,1,60,36.9a12.5,12.5,0,0,1-7.6-2.4,16.7,16.7,0,0,1-5-4.8c-1-1.8-2.1-5-1.1-6.9" transform="translate(-45.9 -12.1)" fill="#fbb040"/>
    </g>
  </svg>
</template>
<script>
  let tpl = document.currentScript.ownerDocument.querySelector("template")
    .content;
  class BirdieSVGComponent extends HTMLElement {
    static get is() {
      return "birdie-svg-component";
    }
    static get template() {
      return tpl.cloneNode(true);
    }
    constructor() {
      super();
      this.attachShadow({ mode: "open" });
      this.shadowRoot.appendChild(BirdieSVGComponent.template);
    }
  }
  customElements.define(BirdieSVGComponent.is, BirdieSVGComponent);
</script>